/* 
 * ShipEngine
 *
 * No description provided (generated by Swagger Codegen https://github.com/swagger-api/swagger-codegen)
 *
 * OpenAPI spec version: v1
 * 
 * Generated by: https://github.com/swagger-api/swagger-codegen.git
 */

using System;
using System.Collections.Generic;
using System.Configuration;
using System.Linq;
using NUnit.Framework;
using FluentAssertions;
using Newtonsoft.Json;
using ShipEngine.ApiClient.Api;
using ShipEngine.ApiClient.Model;

namespace ShipEngine.ApiClient.Test.Api
{
    /// <summary>
    ///  Class for testing AddressValidationApi
    /// </summary>
    /// <remarks>
    /// This file is automatically generated by Swagger Codegen.
    /// Please update the test case below to test the API endpoint.
    /// </remarks>
    [TestFixture]
    public class AddressValidationApiTests
    {
        private AddressValidationApi _instance;

        /// <summary>
        /// Setup before each unit test
        /// </summary>
        [SetUp]
        public void Init()
        {
            _instance = new AddressValidationApi();
        }

        /// <summary>
        /// Clean up after each unit test
        /// </summary>
        [TearDown]
        public void Cleanup()
        {

        }

        /// <summary>
        /// Test AddressValidationValidateAddresses
        /// </summary>
        [Test]
        public void AddressValidationValidateAddressesTest()
        {
            var addresses = ValidAddresses();
            var apiKey = ConfigurationManager.AppSettings[Constants.ConfigTestApiKey];
            var response = _instance.AddressValidationValidateAddresses(addresses, apiKey);
            response.Should()
                .BeOfType<List<AddressValidationResponseDTO>>("response is List<AddressValidationResponseDTO>");

            response.First().MatchedAddress.Should().NotBeNull();
            Console.WriteLine(JsonConvert.SerializeObject(response, Formatting.Indented));
        }

        private static List<AddressDTO> ValidAddresses()
        {
            return new List<AddressDTO>
            {
                new AddressDTO
                {
                    CompanyName = "ShipStation",
                    AddressLine1 = "3800 N Lamar Blvd",
                    AddressLine2 = "#220",
                    CityLocality = "AUSTIN",
                    StateProvince = "TX",
                    PostalCode = "78756",
                    CountryCode = "US",
                    Phone = "512-485-4282"
                }
            };
        }


    }

}
